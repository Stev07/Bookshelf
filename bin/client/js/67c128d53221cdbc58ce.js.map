{"version":3,"sources":["webpack:////home/vlntngrgr/bookshelf/node_modules/rc-trigger/es/index.js"],"names":["babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default","n","babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default","babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default","babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__","babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default","react__WEBPACK_IMPORTED_MODULE_4__","react__WEBPACK_IMPORTED_MODULE_4___default","prop_types__WEBPACK_IMPORTED_MODULE_5__","prop_types__WEBPACK_IMPORTED_MODULE_5___default","react_dom__WEBPACK_IMPORTED_MODULE_6__","rc_util_es_Dom_contains__WEBPACK_IMPORTED_MODULE_7__","rc_util_es_Dom_addEventListener__WEBPACK_IMPORTED_MODULE_8__","rc_util_es_ContainerRender__WEBPACK_IMPORTED_MODULE_9__","rc_util_es_Portal__WEBPACK_IMPORTED_MODULE_10__","classnames__WEBPACK_IMPORTED_MODULE_11__","classnames__WEBPACK_IMPORTED_MODULE_11___default","_utils__WEBPACK_IMPORTED_MODULE_12__","_Popup__WEBPACK_IMPORTED_MODULE_13__","noop","ALL_HANDLERS","IS_REACT_16","contextTypes","rcTrigger","a","shape","onPopupMouseDown","func","Trigger","_React$Component","props","this","_this","call","_initialiseProps","popupVisible","defaultPopupVisible","prevPopupVisible","state","prototype","getChildContext","componentWillMount","_this2","forEach","h","e","fireEvents","componentDidMount","componentDidUpdate","componentWillReceiveProps","_ref","undefined","setState","_","prevState","renderComponent","afterPopupVisibleChange","currentDocument","clickOutsideHandler","isClickToHide","isContextMenuToShow","getDocument","Object","onDocumentClick","touchOutsideHandler","contextMenuOutsideHandler1","onContextMenuClose","contextMenuOutsideHandler2","window","clearOutsideHandler","componentWillUnmount","clearDelayTimer","clearTimeout","mouseDownTimeout","getPopupDomNode","_component","getPopupAlign","popupPlacement","popupAlign","builtinPlacements","setPopupVisible","event","alignPoint","onPopupVisibleChange","setPoint","delaySetPopupVisible","visible","delayS","_this3","delay","point","pageX","pageY","delayTimer","setTimeout","remove","createTwoChains","childPros","children","isClickToShow","_props","action","showAction","indexOf","_props2","_props3","hideAction","isMouseEnterToShow","_props4","isMouseLeaveToHide","_props5","isFocusToShow","_props6","isBlurToHide","_props7","forcePopupAlign","alignInstance","forceAlign","type","childCallback","callback","close","render","_this4","_props8","forceRender","className","child","Children","only","newChildProps","key","onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseMove","onMouseLeave","onFocus","onBlur","childrenClassName","trigger","cloneElement","createElement","parent","autoMount","getComponent","getContainer","_ref2","portal","didUpdate","handlePortalUpdate","Component","propTypes","any","oneOfType","string","arrayOf","getPopupClassNameFromAlign","popup","node","isRequired","popupStyle","object","prefixCls","popupClassName","popupTransitionName","popupAnimation","mouseEnterDelay","number","mouseLeaveDelay","zIndex","focusDelay","blurDelay","getPopupContainer","bool","destroyPopupOnHide","mask","maskClosable","onPopupAlign","maskTransitionName","maskAnimation","stretch","childContextTypes","defaultProps","document","_this5","onPopupMouseEnter","onPopupMouseLeave","relatedTarget","focusTime","Date","now","preClickTime","preTouchTime","preventDefault","preTime","Math","min","abs","nextVisible","_context$rcTrigger","context","hasPopupMouseDown","apply","arguments","target","root","getRootDomNode","align","_props9","push","join","_props10","_state","mouseProps","onAlign","animation","getClassNameFromAlign","style","transitionName","ref","savePopup","popupContainer","position","top","left","width","body","appendChild","__webpack_exports__"],"mappings":"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","file":"js/67c128d53221cdbc58ce.js","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { findDOMNode, createPortal } from 'react-dom';\nimport contains from 'rc-util/es/Dom/contains';\nimport addEventListener from 'rc-util/es/Dom/addEventListener';\nimport ContainerRender from 'rc-util/es/ContainerRender';\nimport Portal from 'rc-util/es/Portal';\nimport classNames from 'classnames';\n\nimport { getAlignFromPlacement, getAlignPopupClassName } from './utils';\nimport Popup from './Popup';\n\nfunction noop() {}\n\nfunction returnEmptyString() {\n  return '';\n}\n\nfunction returnDocument() {\n  return window.document;\n}\n\nvar ALL_HANDLERS = ['onClick', 'onMouseDown', 'onTouchStart', 'onMouseEnter', 'onMouseLeave', 'onFocus', 'onBlur', 'onContextMenu'];\n\nvar IS_REACT_16 = !!createPortal;\n\nvar contextTypes = {\n  rcTrigger: PropTypes.shape({\n    onPopupMouseDown: PropTypes.func\n  })\n};\n\nvar Trigger = function (_React$Component) {\n  _inherits(Trigger, _React$Component);\n\n  function Trigger(props) {\n    _classCallCheck(this, Trigger);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var popupVisible = void 0;\n    if ('popupVisible' in props) {\n      popupVisible = !!props.popupVisible;\n    } else {\n      popupVisible = !!props.defaultPopupVisible;\n    }\n\n    _this.prevPopupVisible = popupVisible;\n\n    _this.state = {\n      popupVisible: popupVisible\n    };\n    return _this;\n  }\n\n  Trigger.prototype.getChildContext = function getChildContext() {\n    return {\n      rcTrigger: {\n        onPopupMouseDown: this.onPopupMouseDown\n      }\n    };\n  };\n\n  Trigger.prototype.componentWillMount = function componentWillMount() {\n    var _this2 = this;\n\n    ALL_HANDLERS.forEach(function (h) {\n      _this2['fire' + h] = function (e) {\n        _this2.fireEvents(h, e);\n      };\n    });\n  };\n\n  Trigger.prototype.componentDidMount = function componentDidMount() {\n    this.componentDidUpdate({}, {\n      popupVisible: this.state.popupVisible\n    });\n  };\n\n  Trigger.prototype.componentWillReceiveProps = function componentWillReceiveProps(_ref) {\n    var popupVisible = _ref.popupVisible;\n\n    if (popupVisible !== undefined) {\n      this.setState({\n        popupVisible: popupVisible\n      });\n    }\n  };\n\n  Trigger.prototype.componentDidUpdate = function componentDidUpdate(_, prevState) {\n    var props = this.props;\n    var state = this.state;\n    var triggerAfterPopupVisibleChange = function triggerAfterPopupVisibleChange() {\n      if (prevState.popupVisible !== state.popupVisible) {\n        props.afterPopupVisibleChange(state.popupVisible);\n      }\n    };\n    if (!IS_REACT_16) {\n      this.renderComponent(null, triggerAfterPopupVisibleChange);\n    }\n\n    this.prevPopupVisible = prevState.popupVisible;\n\n    // We must listen to `mousedown` or `touchstart`, edge case:\n    // https://github.com/ant-design/ant-design/issues/5804\n    // https://github.com/react-component/calendar/issues/250\n    // https://github.com/react-component/trigger/issues/50\n    if (state.popupVisible) {\n      var currentDocument = void 0;\n      if (!this.clickOutsideHandler && (this.isClickToHide() || this.isContextMenuToShow())) {\n        currentDocument = props.getDocument();\n        this.clickOutsideHandler = addEventListener(currentDocument, 'mousedown', this.onDocumentClick);\n      }\n      // always hide on mobile\n      if (!this.touchOutsideHandler) {\n        currentDocument = currentDocument || props.getDocument();\n        this.touchOutsideHandler = addEventListener(currentDocument, 'touchstart', this.onDocumentClick);\n      }\n      // close popup when trigger type contains 'onContextMenu' and document is scrolling.\n      if (!this.contextMenuOutsideHandler1 && this.isContextMenuToShow()) {\n        currentDocument = currentDocument || props.getDocument();\n        this.contextMenuOutsideHandler1 = addEventListener(currentDocument, 'scroll', this.onContextMenuClose);\n      }\n      // close popup when trigger type contains 'onContextMenu' and window is blur.\n      if (!this.contextMenuOutsideHandler2 && this.isContextMenuToShow()) {\n        this.contextMenuOutsideHandler2 = addEventListener(window, 'blur', this.onContextMenuClose);\n      }\n      return;\n    }\n\n    this.clearOutsideHandler();\n  };\n\n  Trigger.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.clearDelayTimer();\n    this.clearOutsideHandler();\n    clearTimeout(this.mouseDownTimeout);\n  };\n\n  Trigger.prototype.getPopupDomNode = function getPopupDomNode() {\n    // for test\n    if (this._component && this._component.getPopupDomNode) {\n      return this._component.getPopupDomNode();\n    }\n    return null;\n  };\n\n  Trigger.prototype.getPopupAlign = function getPopupAlign() {\n    var props = this.props;\n    var popupPlacement = props.popupPlacement,\n        popupAlign = props.popupAlign,\n        builtinPlacements = props.builtinPlacements;\n\n    if (popupPlacement && builtinPlacements) {\n      return getAlignFromPlacement(builtinPlacements, popupPlacement, popupAlign);\n    }\n    return popupAlign;\n  };\n\n  /**\n   * @param popupVisible    Show or not the popup element\n   * @param event           SyntheticEvent, used for `pointAlign`\n   */\n  Trigger.prototype.setPopupVisible = function setPopupVisible(popupVisible, event) {\n    var alignPoint = this.props.alignPoint;\n\n\n    this.clearDelayTimer();\n\n    if (this.state.popupVisible !== popupVisible) {\n      if (!('popupVisible' in this.props)) {\n        this.setState({ popupVisible: popupVisible });\n      }\n      this.props.onPopupVisibleChange(popupVisible);\n    }\n\n    // Always record the point position since mouseEnterDelay will delay the show\n    if (alignPoint && event) {\n      this.setPoint(event);\n    }\n  };\n\n  Trigger.prototype.delaySetPopupVisible = function delaySetPopupVisible(visible, delayS, event) {\n    var _this3 = this;\n\n    var delay = delayS * 1000;\n    this.clearDelayTimer();\n    if (delay) {\n      var point = event ? { pageX: event.pageX, pageY: event.pageY } : null;\n      this.delayTimer = setTimeout(function () {\n        _this3.setPopupVisible(visible, point);\n        _this3.clearDelayTimer();\n      }, delay);\n    } else {\n      this.setPopupVisible(visible, event);\n    }\n  };\n\n  Trigger.prototype.clearDelayTimer = function clearDelayTimer() {\n    if (this.delayTimer) {\n      clearTimeout(this.delayTimer);\n      this.delayTimer = null;\n    }\n  };\n\n  Trigger.prototype.clearOutsideHandler = function clearOutsideHandler() {\n    if (this.clickOutsideHandler) {\n      this.clickOutsideHandler.remove();\n      this.clickOutsideHandler = null;\n    }\n\n    if (this.contextMenuOutsideHandler1) {\n      this.contextMenuOutsideHandler1.remove();\n      this.contextMenuOutsideHandler1 = null;\n    }\n\n    if (this.contextMenuOutsideHandler2) {\n      this.contextMenuOutsideHandler2.remove();\n      this.contextMenuOutsideHandler2 = null;\n    }\n\n    if (this.touchOutsideHandler) {\n      this.touchOutsideHandler.remove();\n      this.touchOutsideHandler = null;\n    }\n  };\n\n  Trigger.prototype.createTwoChains = function createTwoChains(event) {\n    var childPros = this.props.children.props;\n    var props = this.props;\n    if (childPros[event] && props[event]) {\n      return this['fire' + event];\n    }\n    return childPros[event] || props[event];\n  };\n\n  Trigger.prototype.isClickToShow = function isClickToShow() {\n    var _props = this.props,\n        action = _props.action,\n        showAction = _props.showAction;\n\n    return action.indexOf('click') !== -1 || showAction.indexOf('click') !== -1;\n  };\n\n  Trigger.prototype.isContextMenuToShow = function isContextMenuToShow() {\n    var _props2 = this.props,\n        action = _props2.action,\n        showAction = _props2.showAction;\n\n    return action.indexOf('contextMenu') !== -1 || showAction.indexOf('contextMenu') !== -1;\n  };\n\n  Trigger.prototype.isClickToHide = function isClickToHide() {\n    var _props3 = this.props,\n        action = _props3.action,\n        hideAction = _props3.hideAction;\n\n    return action.indexOf('click') !== -1 || hideAction.indexOf('click') !== -1;\n  };\n\n  Trigger.prototype.isMouseEnterToShow = function isMouseEnterToShow() {\n    var _props4 = this.props,\n        action = _props4.action,\n        showAction = _props4.showAction;\n\n    return action.indexOf('hover') !== -1 || showAction.indexOf('mouseEnter') !== -1;\n  };\n\n  Trigger.prototype.isMouseLeaveToHide = function isMouseLeaveToHide() {\n    var _props5 = this.props,\n        action = _props5.action,\n        hideAction = _props5.hideAction;\n\n    return action.indexOf('hover') !== -1 || hideAction.indexOf('mouseLeave') !== -1;\n  };\n\n  Trigger.prototype.isFocusToShow = function isFocusToShow() {\n    var _props6 = this.props,\n        action = _props6.action,\n        showAction = _props6.showAction;\n\n    return action.indexOf('focus') !== -1 || showAction.indexOf('focus') !== -1;\n  };\n\n  Trigger.prototype.isBlurToHide = function isBlurToHide() {\n    var _props7 = this.props,\n        action = _props7.action,\n        hideAction = _props7.hideAction;\n\n    return action.indexOf('focus') !== -1 || hideAction.indexOf('blur') !== -1;\n  };\n\n  Trigger.prototype.forcePopupAlign = function forcePopupAlign() {\n    if (this.state.popupVisible && this._component && this._component.alignInstance) {\n      this._component.alignInstance.forceAlign();\n    }\n  };\n\n  Trigger.prototype.fireEvents = function fireEvents(type, e) {\n    var childCallback = this.props.children.props[type];\n    if (childCallback) {\n      childCallback(e);\n    }\n    var callback = this.props[type];\n    if (callback) {\n      callback(e);\n    }\n  };\n\n  Trigger.prototype.close = function close() {\n    this.setPopupVisible(false);\n  };\n\n  Trigger.prototype.render = function render() {\n    var _this4 = this;\n\n    var popupVisible = this.state.popupVisible;\n    var _props8 = this.props,\n        children = _props8.children,\n        forceRender = _props8.forceRender,\n        alignPoint = _props8.alignPoint,\n        className = _props8.className;\n\n    var child = React.Children.only(children);\n    var newChildProps = { key: 'trigger' };\n\n    if (this.isContextMenuToShow()) {\n      newChildProps.onContextMenu = this.onContextMenu;\n    } else {\n      newChildProps.onContextMenu = this.createTwoChains('onContextMenu');\n    }\n\n    if (this.isClickToHide() || this.isClickToShow()) {\n      newChildProps.onClick = this.onClick;\n      newChildProps.onMouseDown = this.onMouseDown;\n      newChildProps.onTouchStart = this.onTouchStart;\n    } else {\n      newChildProps.onClick = this.createTwoChains('onClick');\n      newChildProps.onMouseDown = this.createTwoChains('onMouseDown');\n      newChildProps.onTouchStart = this.createTwoChains('onTouchStart');\n    }\n    if (this.isMouseEnterToShow()) {\n      newChildProps.onMouseEnter = this.onMouseEnter;\n      if (alignPoint) {\n        newChildProps.onMouseMove = this.onMouseMove;\n      }\n    } else {\n      newChildProps.onMouseEnter = this.createTwoChains('onMouseEnter');\n    }\n    if (this.isMouseLeaveToHide()) {\n      newChildProps.onMouseLeave = this.onMouseLeave;\n    } else {\n      newChildProps.onMouseLeave = this.createTwoChains('onMouseLeave');\n    }\n    if (this.isFocusToShow() || this.isBlurToHide()) {\n      newChildProps.onFocus = this.onFocus;\n      newChildProps.onBlur = this.onBlur;\n    } else {\n      newChildProps.onFocus = this.createTwoChains('onFocus');\n      newChildProps.onBlur = this.createTwoChains('onBlur');\n    }\n\n    var childrenClassName = classNames(child && child.props && child.props.className, className);\n    if (childrenClassName) {\n      newChildProps.className = childrenClassName;\n    }\n    var trigger = React.cloneElement(child, newChildProps);\n\n    if (!IS_REACT_16) {\n      return React.createElement(\n        ContainerRender,\n        {\n          parent: this,\n          visible: popupVisible,\n          autoMount: false,\n          forceRender: forceRender,\n          getComponent: this.getComponent,\n          getContainer: this.getContainer\n        },\n        function (_ref2) {\n          var renderComponent = _ref2.renderComponent;\n\n          _this4.renderComponent = renderComponent;\n          return trigger;\n        }\n      );\n    }\n\n    var portal = void 0;\n    // prevent unmounting after it's rendered\n    if (popupVisible || this._component || forceRender) {\n      portal = React.createElement(\n        Portal,\n        {\n          key: 'portal',\n          getContainer: this.getContainer,\n          didUpdate: this.handlePortalUpdate\n        },\n        this.getComponent()\n      );\n    }\n\n    return [trigger, portal];\n  };\n\n  return Trigger;\n}(React.Component);\n\nTrigger.propTypes = {\n  children: PropTypes.any,\n  action: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n  showAction: PropTypes.any,\n  hideAction: PropTypes.any,\n  getPopupClassNameFromAlign: PropTypes.any,\n  onPopupVisibleChange: PropTypes.func,\n  afterPopupVisibleChange: PropTypes.func,\n  popup: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n  popupStyle: PropTypes.object,\n  prefixCls: PropTypes.string,\n  popupClassName: PropTypes.string,\n  className: PropTypes.string,\n  popupPlacement: PropTypes.string,\n  builtinPlacements: PropTypes.object,\n  popupTransitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  popupAnimation: PropTypes.any,\n  mouseEnterDelay: PropTypes.number,\n  mouseLeaveDelay: PropTypes.number,\n  zIndex: PropTypes.number,\n  focusDelay: PropTypes.number,\n  blurDelay: PropTypes.number,\n  getPopupContainer: PropTypes.func,\n  getDocument: PropTypes.func,\n  forceRender: PropTypes.bool,\n  destroyPopupOnHide: PropTypes.bool,\n  mask: PropTypes.bool,\n  maskClosable: PropTypes.bool,\n  onPopupAlign: PropTypes.func,\n  popupAlign: PropTypes.object,\n  popupVisible: PropTypes.bool,\n  defaultPopupVisible: PropTypes.bool,\n  maskTransitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  maskAnimation: PropTypes.string,\n  stretch: PropTypes.string,\n  alignPoint: PropTypes.bool // Maybe we can support user pass position in the future\n};\nTrigger.contextTypes = contextTypes;\nTrigger.childContextTypes = contextTypes;\nTrigger.defaultProps = {\n  prefixCls: 'rc-trigger-popup',\n  getPopupClassNameFromAlign: returnEmptyString,\n  getDocument: returnDocument,\n  onPopupVisibleChange: noop,\n  afterPopupVisibleChange: noop,\n  onPopupAlign: noop,\n  popupClassName: '',\n  mouseEnterDelay: 0,\n  mouseLeaveDelay: 0.1,\n  focusDelay: 0,\n  blurDelay: 0.15,\n  popupStyle: {},\n  destroyPopupOnHide: false,\n  popupAlign: {},\n  defaultPopupVisible: false,\n  mask: false,\n  maskClosable: true,\n  action: [],\n  showAction: [],\n  hideAction: []\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this5 = this;\n\n  this.onMouseEnter = function (e) {\n    var mouseEnterDelay = _this5.props.mouseEnterDelay;\n\n    _this5.fireEvents('onMouseEnter', e);\n    _this5.delaySetPopupVisible(true, mouseEnterDelay, mouseEnterDelay ? null : e);\n  };\n\n  this.onMouseMove = function (e) {\n    _this5.fireEvents('onMouseMove', e);\n    _this5.setPoint(e);\n  };\n\n  this.onMouseLeave = function (e) {\n    _this5.fireEvents('onMouseLeave', e);\n    _this5.delaySetPopupVisible(false, _this5.props.mouseLeaveDelay);\n  };\n\n  this.onPopupMouseEnter = function () {\n    _this5.clearDelayTimer();\n  };\n\n  this.onPopupMouseLeave = function (e) {\n    // https://github.com/react-component/trigger/pull/13\n    // react bug?\n    if (e.relatedTarget && !e.relatedTarget.setTimeout && _this5._component && _this5._component.getPopupDomNode && contains(_this5._component.getPopupDomNode(), e.relatedTarget)) {\n      return;\n    }\n    _this5.delaySetPopupVisible(false, _this5.props.mouseLeaveDelay);\n  };\n\n  this.onFocus = function (e) {\n    _this5.fireEvents('onFocus', e);\n    // incase focusin and focusout\n    _this5.clearDelayTimer();\n    if (_this5.isFocusToShow()) {\n      _this5.focusTime = Date.now();\n      _this5.delaySetPopupVisible(true, _this5.props.focusDelay);\n    }\n  };\n\n  this.onMouseDown = function (e) {\n    _this5.fireEvents('onMouseDown', e);\n    _this5.preClickTime = Date.now();\n  };\n\n  this.onTouchStart = function (e) {\n    _this5.fireEvents('onTouchStart', e);\n    _this5.preTouchTime = Date.now();\n  };\n\n  this.onBlur = function (e) {\n    _this5.fireEvents('onBlur', e);\n    _this5.clearDelayTimer();\n    if (_this5.isBlurToHide()) {\n      _this5.delaySetPopupVisible(false, _this5.props.blurDelay);\n    }\n  };\n\n  this.onContextMenu = function (e) {\n    e.preventDefault();\n    _this5.fireEvents('onContextMenu', e);\n    _this5.setPopupVisible(true, e);\n  };\n\n  this.onContextMenuClose = function () {\n    if (_this5.isContextMenuToShow()) {\n      _this5.close();\n    }\n  };\n\n  this.onClick = function (event) {\n    _this5.fireEvents('onClick', event);\n    // focus will trigger click\n    if (_this5.focusTime) {\n      var preTime = void 0;\n      if (_this5.preClickTime && _this5.preTouchTime) {\n        preTime = Math.min(_this5.preClickTime, _this5.preTouchTime);\n      } else if (_this5.preClickTime) {\n        preTime = _this5.preClickTime;\n      } else if (_this5.preTouchTime) {\n        preTime = _this5.preTouchTime;\n      }\n      if (Math.abs(preTime - _this5.focusTime) < 20) {\n        return;\n      }\n      _this5.focusTime = 0;\n    }\n    _this5.preClickTime = 0;\n    _this5.preTouchTime = 0;\n    if (event && event.preventDefault) {\n      event.preventDefault();\n    }\n    var nextVisible = !_this5.state.popupVisible;\n    if (_this5.isClickToHide() && !nextVisible || nextVisible && _this5.isClickToShow()) {\n      _this5.setPopupVisible(!_this5.state.popupVisible, event);\n    }\n  };\n\n  this.onPopupMouseDown = function () {\n    var _context$rcTrigger = _this5.context.rcTrigger,\n        rcTrigger = _context$rcTrigger === undefined ? {} : _context$rcTrigger;\n\n    _this5.hasPopupMouseDown = true;\n\n    clearTimeout(_this5.mouseDownTimeout);\n    _this5.mouseDownTimeout = setTimeout(function () {\n      _this5.hasPopupMouseDown = false;\n    }, 0);\n\n    if (rcTrigger.onPopupMouseDown) {\n      rcTrigger.onPopupMouseDown.apply(rcTrigger, arguments);\n    }\n  };\n\n  this.onDocumentClick = function (event) {\n    if (_this5.props.mask && !_this5.props.maskClosable) {\n      return;\n    }\n\n    var target = event.target;\n    var root = findDOMNode(_this5);\n    if (!contains(root, target) && !_this5.hasPopupMouseDown) {\n      _this5.close();\n    }\n  };\n\n  this.getRootDomNode = function () {\n    return findDOMNode(_this5);\n  };\n\n  this.getPopupClassNameFromAlign = function (align) {\n    var className = [];\n    var _props9 = _this5.props,\n        popupPlacement = _props9.popupPlacement,\n        builtinPlacements = _props9.builtinPlacements,\n        prefixCls = _props9.prefixCls,\n        alignPoint = _props9.alignPoint,\n        getPopupClassNameFromAlign = _props9.getPopupClassNameFromAlign;\n\n    if (popupPlacement && builtinPlacements) {\n      className.push(getAlignPopupClassName(builtinPlacements, prefixCls, align, alignPoint));\n    }\n    if (getPopupClassNameFromAlign) {\n      className.push(getPopupClassNameFromAlign(align));\n    }\n    return className.join(' ');\n  };\n\n  this.getComponent = function () {\n    var _props10 = _this5.props,\n        prefixCls = _props10.prefixCls,\n        destroyPopupOnHide = _props10.destroyPopupOnHide,\n        popupClassName = _props10.popupClassName,\n        action = _props10.action,\n        onPopupAlign = _props10.onPopupAlign,\n        popupAnimation = _props10.popupAnimation,\n        popupTransitionName = _props10.popupTransitionName,\n        popupStyle = _props10.popupStyle,\n        mask = _props10.mask,\n        maskAnimation = _props10.maskAnimation,\n        maskTransitionName = _props10.maskTransitionName,\n        zIndex = _props10.zIndex,\n        popup = _props10.popup,\n        stretch = _props10.stretch,\n        alignPoint = _props10.alignPoint;\n    var _state = _this5.state,\n        popupVisible = _state.popupVisible,\n        point = _state.point;\n\n\n    var align = _this5.getPopupAlign();\n\n    var mouseProps = {};\n    if (_this5.isMouseEnterToShow()) {\n      mouseProps.onMouseEnter = _this5.onPopupMouseEnter;\n    }\n    if (_this5.isMouseLeaveToHide()) {\n      mouseProps.onMouseLeave = _this5.onPopupMouseLeave;\n    }\n\n    mouseProps.onMouseDown = _this5.onPopupMouseDown;\n    mouseProps.onTouchStart = _this5.onPopupMouseDown;\n\n    return React.createElement(\n      Popup,\n      _extends({\n        prefixCls: prefixCls,\n        destroyPopupOnHide: destroyPopupOnHide,\n        visible: popupVisible,\n        point: alignPoint && point,\n        className: popupClassName,\n        action: action,\n        align: align,\n        onAlign: onPopupAlign,\n        animation: popupAnimation,\n        getClassNameFromAlign: _this5.getPopupClassNameFromAlign\n      }, mouseProps, {\n        stretch: stretch,\n        getRootDomNode: _this5.getRootDomNode,\n        style: popupStyle,\n        mask: mask,\n        zIndex: zIndex,\n        transitionName: popupTransitionName,\n        maskAnimation: maskAnimation,\n        maskTransitionName: maskTransitionName,\n        ref: _this5.savePopup\n      }),\n      typeof popup === 'function' ? popup() : popup\n    );\n  };\n\n  this.getContainer = function () {\n    var props = _this5.props;\n\n    var popupContainer = document.createElement('div');\n    // Make sure default popup container will never cause scrollbar appearing\n    // https://github.com/react-component/trigger/issues/41\n    popupContainer.style.position = 'absolute';\n    popupContainer.style.top = '0';\n    popupContainer.style.left = '0';\n    popupContainer.style.width = '100%';\n    var mountNode = props.getPopupContainer ? props.getPopupContainer(findDOMNode(_this5)) : props.getDocument().body;\n    mountNode.appendChild(popupContainer);\n    return popupContainer;\n  };\n\n  this.setPoint = function (point) {\n    var alignPoint = _this5.props.alignPoint;\n\n    if (!alignPoint || !point) return;\n\n    _this5.setState({\n      point: {\n        pageX: point.pageX,\n        pageY: point.pageY\n      }\n    });\n  };\n\n  this.handlePortalUpdate = function () {\n    if (_this5.prevPopupVisible !== _this5.state.popupVisible) {\n      _this5.props.afterPopupVisibleChange(_this5.state.popupVisible);\n    }\n  };\n\n  this.savePopup = function (node) {\n    _this5._component = node;\n  };\n};\n\nexport default Trigger;"],"sourceRoot":""}