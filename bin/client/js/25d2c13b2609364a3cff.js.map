{"version":3,"sources":["webpack:////home/vlntngrgr/Bookshelf/node_modules/rc-align/es/util.js","webpack:////home/vlntngrgr/Bookshelf/node_modules/rc-align/es/Align.js","webpack:////home/vlntngrgr/Bookshelf/node_modules/rc-align/es/index.js"],"names":["isWindow","obj","window","isSimilarValue","val1","val2","int1","Math","floor","int2","abs","getElement","func","getPoint","point","Align_Align","_Component","Align","_ref","_temp","_this","_ret","classCallCheck_default","this","_len","arguments","length","args","Array","_key","possibleConstructorReturn_default","__proto__","Object","getPrototypeOf","call","apply","concat","forceAlign","_this$props","props","disabled","target","align","onAlign","source","react_dom_default","a","findDOMNode","result","element","activeElement","document","es","container","contains","focus","restoreFocus","inherits_default","createClass_default","key","value","monitorWindowResize","startMonitorWindowResize","prevProps","prev","next","reAlign","sourceRect","getBoundingClientRect","lastElement","currentElement","lastPoint","currentPoint","pageX","pageY","clientX","clientY","preRect","width","height","stopMonitorWindowResize","resizeHandler","bufferMonitor","fn","ms","timer","clear","clearTimeout","bufferFn","setTimeout","buffer","monitorBufferTime","addEventListener","remove","_this2","_props","childrenProps","children","child","react_default","Children","only","newProps","keys","forEach","prop","cloneElement","react","propTypes","prop_types_default","object","isRequired","oneOfType","shape","number","bool","any","defaultProps","es_Align","__webpack_exports__"],"mappings":"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","file":"js/25d2c13b2609364a3cff.js","sourcesContent":["import contains from 'rc-util/es/Dom/contains';\n\nexport function buffer(fn, ms) {\n  var timer = void 0;\n\n  function clear() {\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n  }\n\n  function bufferFn() {\n    clear();\n    timer = setTimeout(fn, ms);\n  }\n\n  bufferFn.clear = clear;\n\n  return bufferFn;\n}\n\nexport function isSamePoint(prev, next) {\n  if (prev === next) return true;\n  if (!prev || !next) return false;\n\n  if ('pageX' in next && 'pageY' in next) {\n    return prev.pageX === next.pageX && prev.pageY === next.pageY;\n  }\n\n  if ('clientX' in next && 'clientY' in next) {\n    return prev.clientX === next.clientX && prev.clientY === next.clientY;\n  }\n\n  return false;\n}\n\nexport function isWindow(obj) {\n  return obj && typeof obj === 'object' && obj.window === obj;\n}\n\nexport function isSimilarValue(val1, val2) {\n  var int1 = Math.floor(val1);\n  var int2 = Math.floor(val2);\n  return Math.abs(int1 - int2) <= 1;\n}\n\nexport function restoreFocus(activeElement, container) {\n  // Focus back if is in the container\n  if (activeElement !== document.activeElement && contains(container, activeElement)) {\n    activeElement.focus();\n  }\n}","import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport { alignElement, alignPoint } from 'dom-align';\nimport addEventListener from 'rc-util/es/Dom/addEventListener';\n\nimport { isWindow, buffer, isSamePoint, isSimilarValue, restoreFocus } from './util';\n\nfunction getElement(func) {\n  if (typeof func !== 'function' || !func) return null;\n  return func();\n}\n\nfunction getPoint(point) {\n  if (typeof point !== 'object' || !point) return null;\n  return point;\n}\n\nvar Align = function (_Component) {\n  _inherits(Align, _Component);\n\n  function Align() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Align);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Align.__proto__ || Object.getPrototypeOf(Align)).call.apply(_ref, [this].concat(args))), _this), _this.forceAlign = function () {\n      var _this$props = _this.props,\n          disabled = _this$props.disabled,\n          target = _this$props.target,\n          align = _this$props.align,\n          onAlign = _this$props.onAlign;\n\n      if (!disabled && target) {\n        var source = ReactDOM.findDOMNode(_this);\n\n        var result = void 0;\n        var element = getElement(target);\n        var point = getPoint(target);\n\n        // IE lose focus after element realign\n        // We should record activeElement and restore later\n        var activeElement = document.activeElement;\n\n        if (element) {\n          result = alignElement(source, element, align);\n        } else if (point) {\n          result = alignPoint(source, point, align);\n        }\n\n        restoreFocus(activeElement, source);\n\n        if (onAlign) {\n          onAlign(source, result);\n        }\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Align, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var props = this.props;\n      // if parent ref not attached .... use document.getElementById\n      this.forceAlign();\n      if (!props.disabled && props.monitorWindowResize) {\n        this.startMonitorWindowResize();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      var reAlign = false;\n      var props = this.props;\n\n      if (!props.disabled) {\n        var source = ReactDOM.findDOMNode(this);\n        var sourceRect = source ? source.getBoundingClientRect() : null;\n\n        if (prevProps.disabled) {\n          reAlign = true;\n        } else {\n          var lastElement = getElement(prevProps.target);\n          var currentElement = getElement(props.target);\n          var lastPoint = getPoint(prevProps.target);\n          var currentPoint = getPoint(props.target);\n\n          if (isWindow(lastElement) && isWindow(currentElement)) {\n            // Skip if is window\n            reAlign = false;\n          } else if (lastElement !== currentElement || // Element change\n          lastElement && !currentElement && currentPoint || // Change from element to point\n          lastPoint && currentPoint && currentElement || // Change from point to element\n          currentPoint && !isSamePoint(lastPoint, currentPoint)) {\n            reAlign = true;\n          }\n\n          // If source element size changed\n          var preRect = this.sourceRect || {};\n          if (!reAlign && source && (!isSimilarValue(preRect.width, sourceRect.width) || !isSimilarValue(preRect.height, sourceRect.height))) {\n            reAlign = true;\n          }\n        }\n\n        this.sourceRect = sourceRect;\n      }\n\n      if (reAlign) {\n        this.forceAlign();\n      }\n\n      if (props.monitorWindowResize && !props.disabled) {\n        this.startMonitorWindowResize();\n      } else {\n        this.stopMonitorWindowResize();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.stopMonitorWindowResize();\n    }\n  }, {\n    key: 'startMonitorWindowResize',\n    value: function startMonitorWindowResize() {\n      if (!this.resizeHandler) {\n        this.bufferMonitor = buffer(this.forceAlign, this.props.monitorBufferTime);\n        this.resizeHandler = addEventListener(window, 'resize', this.bufferMonitor);\n      }\n    }\n  }, {\n    key: 'stopMonitorWindowResize',\n    value: function stopMonitorWindowResize() {\n      if (this.resizeHandler) {\n        this.bufferMonitor.clear();\n        this.resizeHandler.remove();\n        this.resizeHandler = null;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          childrenProps = _props.childrenProps,\n          children = _props.children;\n\n      var child = React.Children.only(children);\n      if (childrenProps) {\n        var newProps = {};\n        var propList = Object.keys(childrenProps);\n        propList.forEach(function (prop) {\n          newProps[prop] = _this2.props[childrenProps[prop]];\n        });\n\n        return React.cloneElement(child, newProps);\n      }\n      return child;\n    }\n  }]);\n\n  return Align;\n}(Component);\n\nAlign.propTypes = {\n  childrenProps: PropTypes.object,\n  align: PropTypes.object.isRequired,\n  target: PropTypes.oneOfType([PropTypes.func, PropTypes.shape({\n    clientX: PropTypes.number,\n    clientY: PropTypes.number,\n    pageX: PropTypes.number,\n    pageY: PropTypes.number\n  })]),\n  onAlign: PropTypes.func,\n  monitorBufferTime: PropTypes.number,\n  monitorWindowResize: PropTypes.bool,\n  disabled: PropTypes.bool,\n  children: PropTypes.any\n};\nAlign.defaultProps = {\n  target: function target() {\n    return window;\n  },\n  monitorBufferTime: 50,\n  monitorWindowResize: false,\n  disabled: false\n};\n\n\nexport default Align;","// export this package's api\nimport Align from './Align';\n\nexport default Align;"],"sourceRoot":""}