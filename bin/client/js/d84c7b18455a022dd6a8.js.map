{"version":3,"sources":["webpack:////home/vlntngrgr/bookshelf/node_modules/rc-menu/es/SubMenu.js"],"names":["babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default","n","babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__","babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1___default","babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__","babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default","babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_3__","babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_3___default","react__WEBPACK_IMPORTED_MODULE_4__","react__WEBPACK_IMPORTED_MODULE_4___default","react_dom__WEBPACK_IMPORTED_MODULE_5__","react_dom__WEBPACK_IMPORTED_MODULE_5___default","prop_types__WEBPACK_IMPORTED_MODULE_6__","prop_types__WEBPACK_IMPORTED_MODULE_6___default","rc_trigger__WEBPACK_IMPORTED_MODULE_7__","rc_util_es_KeyCode__WEBPACK_IMPORTED_MODULE_8__","classnames__WEBPACK_IMPORTED_MODULE_9__","classnames__WEBPACK_IMPORTED_MODULE_9___default","mini_store__WEBPACK_IMPORTED_MODULE_10__","_SubPopupMenu__WEBPACK_IMPORTED_MODULE_11__","_placements__WEBPACK_IMPORTED_MODULE_12__","rc_animate__WEBPACK_IMPORTED_MODULE_13__","_util__WEBPACK_IMPORTED_MODULE_14__","guid","popupPlacementMap","horizontal","vertical","vertical-left","vertical-right","updateDefaultActiveFirst","store","eventKey","defaultActiveFirst","_extends2","menuId","Object","state","getState","setState","SubMenu","_React$Component","props","this","_this","call","_initialiseProps","isRootMenu","value","prototype","componentDidMount","componentDidUpdate","_this2","_props","mode","parentMenu","manualRef","isOpen","minWidthTimeout","setTimeout","adjustWidth","componentWillUnmount","_props2","onDestroy","clearTimeout","mouseenterTimeout","renderChildren","children","baseProps","visible","level","inlineIndent","focusable","onClick","onSubMenuClick","onSelect","onDeselect","selectedKeys","openKeys","openTransitionName","openAnimation","onOpenChange","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","triggerSubMenuAction","builtinPlacements","multiple","prefixCls","rootPrefixCls","id","_menuId","saveMenuInstance","itemIcon","expandIcon","haveRendered","haveOpened","a","createElement","transitionAppear","className","animProps","transitionName","animation","appear","showProp","component","render","_classNames","getPrefixCls","isInlineMode","getOpenClassName","getActiveClassName","active","getDisabledClassName","disabled","getSelectedClassName","isChildrenSelected","mouseEvents","titleClickEvents","titleMouseEvents","onMouseLeave","onMouseEnter","onTitleClick","onTitleMouseEnter","onTitleMouseLeave","style","paddingLeft","ariaOwns","aria-owns","icon","title","ref","saveSubMenuTitle","aria-expanded","aria-haspopup","undefined","getPopupContainer","triggerNode","parentNode","popupPlacement","popupAlign","popupOffset","offset","popupClassName","forEach","key","role","popupVisible","popup","action","mouseEnterDelay","mouseLeaveDelay","onPopupVisibleChange","forceRender","Component","propTypes","object","node","any","array","func","string","bool","onItemHover","oneOf","oneOfType","defaultProps","_this3","onKeyDown","e","keyCode","menu","menuInstance","_props3","ENTER","RIGHT","triggerOpenChange","LEFT","handled","UP","DOWN","_props4","domEvent","_props5","subMenuInstance","_props6","hover","_props7","info","addKeyPath","c","keyPath","concat","open","type","openChange","item","trigger","ret","find","indexOf","subMenuTitle","popupMenu","findDOMNode","offsetWidth","minWidth","connected","_ref","_ref2","activeKey","subMenuKey","isSubMenu","__webpack_exports__"],"mappings":"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","file":"js/d84c7b18455a022dd6a8.js","sourcesContent":["import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport _extends from 'babel-runtime/helpers/extends';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport Trigger from 'rc-trigger';\nimport KeyCode from 'rc-util/es/KeyCode';\nimport classNames from 'classnames';\nimport { connect } from 'mini-store';\nimport SubPopupMenu from './SubPopupMenu';\nimport placements from './placements';\nimport Animate from 'rc-animate';\nimport { noop, loopMenuItemRecursively, getMenuIdFromSubMenuEventKey, menuAllProps } from './util';\n\nvar guid = 0;\n\nvar popupPlacementMap = {\n  horizontal: 'bottomLeft',\n  vertical: 'rightTop',\n  'vertical-left': 'rightTop',\n  'vertical-right': 'leftTop'\n};\n\nvar updateDefaultActiveFirst = function updateDefaultActiveFirst(store, eventKey, defaultActiveFirst) {\n  var _extends2;\n\n  var menuId = getMenuIdFromSubMenuEventKey(eventKey);\n  var state = store.getState();\n  store.setState({\n    defaultActiveFirst: _extends({}, state.defaultActiveFirst, (_extends2 = {}, _extends2[menuId] = defaultActiveFirst, _extends2))\n  });\n};\n\nexport var SubMenu = function (_React$Component) {\n  _inherits(SubMenu, _React$Component);\n\n  function SubMenu(props) {\n    _classCallCheck(this, SubMenu);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var store = props.store;\n    var eventKey = props.eventKey;\n    var defaultActiveFirst = store.getState().defaultActiveFirst;\n\n    _this.isRootMenu = false;\n\n    var value = false;\n\n    if (defaultActiveFirst) {\n      value = defaultActiveFirst[eventKey];\n    }\n\n    updateDefaultActiveFirst(store, eventKey, value);\n    return _this;\n  }\n\n  SubMenu.prototype.componentDidMount = function componentDidMount() {\n    this.componentDidUpdate();\n  };\n\n  SubMenu.prototype.componentDidUpdate = function componentDidUpdate() {\n    var _this2 = this;\n\n    var _props = this.props,\n        mode = _props.mode,\n        parentMenu = _props.parentMenu,\n        manualRef = _props.manualRef;\n\n    // invoke customized ref to expose component to mixin\n\n    if (manualRef) {\n      manualRef(this);\n    }\n\n    if (mode !== 'horizontal' || !parentMenu.isRootMenu || !this.props.isOpen) {\n      return;\n    }\n\n    this.minWidthTimeout = setTimeout(function () {\n      return _this2.adjustWidth();\n    }, 0);\n  };\n\n  SubMenu.prototype.componentWillUnmount = function componentWillUnmount() {\n    var _props2 = this.props,\n        onDestroy = _props2.onDestroy,\n        eventKey = _props2.eventKey;\n\n    if (onDestroy) {\n      onDestroy(eventKey);\n    }\n\n    /* istanbul ignore if */\n    if (this.minWidthTimeout) {\n      clearTimeout(this.minWidthTimeout);\n    }\n\n    /* istanbul ignore if */\n    if (this.mouseenterTimeout) {\n      clearTimeout(this.mouseenterTimeout);\n    }\n  };\n\n  SubMenu.prototype.renderChildren = function renderChildren(children) {\n    var props = this.props;\n    var baseProps = {\n      mode: props.mode === 'horizontal' ? 'vertical' : props.mode,\n      visible: this.props.isOpen,\n      level: props.level + 1,\n      inlineIndent: props.inlineIndent,\n      focusable: false,\n      onClick: this.onSubMenuClick,\n      onSelect: this.onSelect,\n      onDeselect: this.onDeselect,\n      onDestroy: this.onDestroy,\n      selectedKeys: props.selectedKeys,\n      eventKey: props.eventKey + '-menu-',\n      openKeys: props.openKeys,\n      openTransitionName: props.openTransitionName,\n      openAnimation: props.openAnimation,\n      onOpenChange: this.onOpenChange,\n      subMenuOpenDelay: props.subMenuOpenDelay,\n      parentMenu: this,\n      subMenuCloseDelay: props.subMenuCloseDelay,\n      forceSubMenuRender: props.forceSubMenuRender,\n      triggerSubMenuAction: props.triggerSubMenuAction,\n      builtinPlacements: props.builtinPlacements,\n      defaultActiveFirst: props.store.getState().defaultActiveFirst[getMenuIdFromSubMenuEventKey(props.eventKey)],\n      multiple: props.multiple,\n      prefixCls: props.rootPrefixCls,\n      id: this._menuId,\n      manualRef: this.saveMenuInstance,\n      itemIcon: props.itemIcon,\n      expandIcon: props.expandIcon\n    };\n\n    var haveRendered = this.haveRendered;\n    this.haveRendered = true;\n\n    this.haveOpened = this.haveOpened || baseProps.visible || baseProps.forceSubMenuRender;\n    // never rendered not planning to, don't render\n    if (!this.haveOpened) {\n      return React.createElement('div', null);\n    }\n\n    // don't show transition on first rendering (no animation for opened menu)\n    // show appear transition if it's not visible (not sure why)\n    // show appear transition if it's not inline mode\n    var transitionAppear = haveRendered || !baseProps.visible || !baseProps.mode === 'inline';\n\n    baseProps.className = ' ' + baseProps.prefixCls + '-sub';\n    var animProps = {};\n\n    if (baseProps.openTransitionName) {\n      animProps.transitionName = baseProps.openTransitionName;\n    } else if (typeof baseProps.openAnimation === 'object') {\n      animProps.animation = _extends({}, baseProps.openAnimation);\n      if (!transitionAppear) {\n        delete animProps.animation.appear;\n      }\n    }\n\n    return React.createElement(\n      Animate,\n      _extends({}, animProps, {\n        showProp: 'visible',\n        component: '',\n        transitionAppear: transitionAppear\n      }),\n      React.createElement(\n        SubPopupMenu,\n        _extends({}, baseProps, { id: this._menuId }),\n        children\n      )\n    );\n  };\n\n  SubMenu.prototype.render = function render() {\n    var _classNames;\n\n    var props = _extends({}, this.props);\n    var isOpen = props.isOpen;\n    var prefixCls = this.getPrefixCls();\n    var isInlineMode = props.mode === 'inline';\n    var className = classNames(prefixCls, prefixCls + '-' + props.mode, (_classNames = {}, _classNames[props.className] = !!props.className, _classNames[this.getOpenClassName()] = isOpen, _classNames[this.getActiveClassName()] = props.active || isOpen && !isInlineMode, _classNames[this.getDisabledClassName()] = props.disabled, _classNames[this.getSelectedClassName()] = this.isChildrenSelected(), _classNames));\n\n    if (!this._menuId) {\n      if (props.eventKey) {\n        this._menuId = props.eventKey + '$Menu';\n      } else {\n        this._menuId = '$__$' + ++guid + '$Menu';\n      }\n    }\n\n    var mouseEvents = {};\n    var titleClickEvents = {};\n    var titleMouseEvents = {};\n    if (!props.disabled) {\n      mouseEvents = {\n        onMouseLeave: this.onMouseLeave,\n        onMouseEnter: this.onMouseEnter\n      };\n\n      // only works in title, not outer li\n      titleClickEvents = {\n        onClick: this.onTitleClick\n      };\n      titleMouseEvents = {\n        onMouseEnter: this.onTitleMouseEnter,\n        onMouseLeave: this.onTitleMouseLeave\n      };\n    }\n\n    var style = {};\n    if (isInlineMode) {\n      style.paddingLeft = props.inlineIndent * props.level;\n    }\n\n    var ariaOwns = {};\n    // only set aria-owns when menu is open\n    // otherwise it would be an invalid aria-owns value\n    // since corresponding node cannot be found\n    if (this.props.isOpen) {\n      ariaOwns = {\n        'aria-owns': this._menuId\n      };\n    }\n\n    // expand custom icon should NOT be displayed in menu with horizontal mode.\n    var icon = null;\n    if (props.mode !== 'horizontal') {\n      icon = this.props.expandIcon; // ReactNode\n      if (typeof this.props.expandIcon === 'function') {\n        icon = React.createElement(this.props.expandIcon, _extends({}, this.props));\n      }\n    }\n\n    var title = React.createElement(\n      'div',\n      _extends({\n        ref: this.saveSubMenuTitle,\n        style: style,\n        className: prefixCls + '-title'\n      }, titleMouseEvents, titleClickEvents, {\n        'aria-expanded': isOpen\n      }, ariaOwns, {\n        'aria-haspopup': 'true',\n        title: typeof props.title === 'string' ? props.title : undefined\n      }),\n      props.title,\n      icon || React.createElement('i', { className: prefixCls + '-arrow' })\n    );\n    var children = this.renderChildren(props.children);\n\n    var getPopupContainer = props.parentMenu.isRootMenu ? props.parentMenu.props.getPopupContainer : function (triggerNode) {\n      return triggerNode.parentNode;\n    };\n    var popupPlacement = popupPlacementMap[props.mode];\n    var popupAlign = props.popupOffset ? { offset: props.popupOffset } : {};\n    var popupClassName = props.mode === 'inline' ? '' : props.popupClassName;\n    var disabled = props.disabled,\n        triggerSubMenuAction = props.triggerSubMenuAction,\n        subMenuOpenDelay = props.subMenuOpenDelay,\n        forceSubMenuRender = props.forceSubMenuRender,\n        subMenuCloseDelay = props.subMenuCloseDelay,\n        builtinPlacements = props.builtinPlacements;\n\n    menuAllProps.forEach(function (key) {\n      return delete props[key];\n    });\n    // Set onClick to null, to ignore propagated onClick event\n    delete props.onClick;\n\n    return React.createElement(\n      'li',\n      _extends({}, props, mouseEvents, {\n        className: className,\n        role: 'menuitem'\n      }),\n      isInlineMode && title,\n      isInlineMode && children,\n      !isInlineMode && React.createElement(\n        Trigger,\n        {\n          prefixCls: prefixCls,\n          popupClassName: prefixCls + '-popup ' + popupClassName,\n          getPopupContainer: getPopupContainer,\n          builtinPlacements: _extends({}, placements, builtinPlacements),\n          popupPlacement: popupPlacement,\n          popupVisible: isOpen,\n          popupAlign: popupAlign,\n          popup: children,\n          action: disabled ? [] : [triggerSubMenuAction],\n          mouseEnterDelay: subMenuOpenDelay,\n          mouseLeaveDelay: subMenuCloseDelay,\n          onPopupVisibleChange: this.onPopupVisibleChange,\n          forceRender: forceSubMenuRender\n        },\n        title\n      )\n    );\n  };\n\n  return SubMenu;\n}(React.Component);\n\nSubMenu.propTypes = {\n  parentMenu: PropTypes.object,\n  title: PropTypes.node,\n  children: PropTypes.any,\n  selectedKeys: PropTypes.array,\n  openKeys: PropTypes.array,\n  onClick: PropTypes.func,\n  onOpenChange: PropTypes.func,\n  rootPrefixCls: PropTypes.string,\n  eventKey: PropTypes.string,\n  multiple: PropTypes.bool,\n  active: PropTypes.bool, // TODO: remove\n  onItemHover: PropTypes.func,\n  onSelect: PropTypes.func,\n  triggerSubMenuAction: PropTypes.string,\n  onDeselect: PropTypes.func,\n  onDestroy: PropTypes.func,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onTitleMouseEnter: PropTypes.func,\n  onTitleMouseLeave: PropTypes.func,\n  onTitleClick: PropTypes.func,\n  popupOffset: PropTypes.array,\n  isOpen: PropTypes.bool,\n  store: PropTypes.object,\n  mode: PropTypes.oneOf(['horizontal', 'vertical', 'vertical-left', 'vertical-right', 'inline']),\n  manualRef: PropTypes.func,\n  itemIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n  expandIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.node])\n};\nSubMenu.defaultProps = {\n  onMouseEnter: noop,\n  onMouseLeave: noop,\n  onTitleMouseEnter: noop,\n  onTitleMouseLeave: noop,\n  onTitleClick: noop,\n  manualRef: noop,\n  mode: 'vertical',\n  title: ''\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.onDestroy = function (key) {\n    _this3.props.onDestroy(key);\n  };\n\n  this.onKeyDown = function (e) {\n    var keyCode = e.keyCode;\n    var menu = _this3.menuInstance;\n    var _props3 = _this3.props,\n        isOpen = _props3.isOpen,\n        store = _props3.store;\n\n\n    if (keyCode === KeyCode.ENTER) {\n      _this3.onTitleClick(e);\n      updateDefaultActiveFirst(store, _this3.props.eventKey, true);\n      return true;\n    }\n\n    if (keyCode === KeyCode.RIGHT) {\n      if (isOpen) {\n        menu.onKeyDown(e);\n      } else {\n        _this3.triggerOpenChange(true);\n        // need to update current menu's defaultActiveFirst value\n        updateDefaultActiveFirst(store, _this3.props.eventKey, true);\n      }\n      return true;\n    }\n    if (keyCode === KeyCode.LEFT) {\n      var handled = void 0;\n      if (isOpen) {\n        handled = menu.onKeyDown(e);\n      } else {\n        return undefined;\n      }\n      if (!handled) {\n        _this3.triggerOpenChange(false);\n        handled = true;\n      }\n      return handled;\n    }\n\n    if (isOpen && (keyCode === KeyCode.UP || keyCode === KeyCode.DOWN)) {\n      return menu.onKeyDown(e);\n    }\n  };\n\n  this.onOpenChange = function (e) {\n    _this3.props.onOpenChange(e);\n  };\n\n  this.onPopupVisibleChange = function (visible) {\n    _this3.triggerOpenChange(visible, visible ? 'mouseenter' : 'mouseleave');\n  };\n\n  this.onMouseEnter = function (e) {\n    var _props4 = _this3.props,\n        key = _props4.eventKey,\n        onMouseEnter = _props4.onMouseEnter,\n        store = _props4.store;\n\n    updateDefaultActiveFirst(store, _this3.props.eventKey, false);\n    onMouseEnter({\n      key: key,\n      domEvent: e\n    });\n  };\n\n  this.onMouseLeave = function (e) {\n    var _props5 = _this3.props,\n        parentMenu = _props5.parentMenu,\n        eventKey = _props5.eventKey,\n        onMouseLeave = _props5.onMouseLeave;\n\n    parentMenu.subMenuInstance = _this3;\n    onMouseLeave({\n      key: eventKey,\n      domEvent: e\n    });\n  };\n\n  this.onTitleMouseEnter = function (domEvent) {\n    var _props6 = _this3.props,\n        key = _props6.eventKey,\n        onItemHover = _props6.onItemHover,\n        onTitleMouseEnter = _props6.onTitleMouseEnter;\n\n    onItemHover({\n      key: key,\n      hover: true\n    });\n    onTitleMouseEnter({\n      key: key,\n      domEvent: domEvent\n    });\n  };\n\n  this.onTitleMouseLeave = function (e) {\n    var _props7 = _this3.props,\n        parentMenu = _props7.parentMenu,\n        eventKey = _props7.eventKey,\n        onItemHover = _props7.onItemHover,\n        onTitleMouseLeave = _props7.onTitleMouseLeave;\n\n    parentMenu.subMenuInstance = _this3;\n    onItemHover({\n      key: eventKey,\n      hover: false\n    });\n    onTitleMouseLeave({\n      key: eventKey,\n      domEvent: e\n    });\n  };\n\n  this.onTitleClick = function (e) {\n    var props = _this3.props;\n\n    props.onTitleClick({\n      key: props.eventKey,\n      domEvent: e\n    });\n    if (props.triggerSubMenuAction === 'hover') {\n      return;\n    }\n    _this3.triggerOpenChange(!props.isOpen, 'click');\n    updateDefaultActiveFirst(props.store, _this3.props.eventKey, false);\n  };\n\n  this.onSubMenuClick = function (info) {\n    // in the case of overflowed submenu\n    // onClick is not copied over\n    if (typeof _this3.props.onClick === 'function') {\n      _this3.props.onClick(_this3.addKeyPath(info));\n    }\n  };\n\n  this.onSelect = function (info) {\n    _this3.props.onSelect(info);\n  };\n\n  this.onDeselect = function (info) {\n    _this3.props.onDeselect(info);\n  };\n\n  this.getPrefixCls = function () {\n    return _this3.props.rootPrefixCls + '-submenu';\n  };\n\n  this.getActiveClassName = function () {\n    return _this3.getPrefixCls() + '-active';\n  };\n\n  this.getDisabledClassName = function () {\n    return _this3.getPrefixCls() + '-disabled';\n  };\n\n  this.getSelectedClassName = function () {\n    return _this3.getPrefixCls() + '-selected';\n  };\n\n  this.getOpenClassName = function () {\n    return _this3.props.rootPrefixCls + '-submenu-open';\n  };\n\n  this.saveMenuInstance = function (c) {\n    // children menu instance\n    _this3.menuInstance = c;\n  };\n\n  this.addKeyPath = function (info) {\n    return _extends({}, info, {\n      keyPath: (info.keyPath || []).concat(_this3.props.eventKey)\n    });\n  };\n\n  this.triggerOpenChange = function (open, type) {\n    var key = _this3.props.eventKey;\n    var openChange = function openChange() {\n      _this3.onOpenChange({\n        key: key,\n        item: _this3,\n        trigger: type,\n        open: open\n      });\n    };\n    if (type === 'mouseenter') {\n      // make sure mouseenter happen after other menu item's mouseleave\n      _this3.mouseenterTimeout = setTimeout(function () {\n        openChange();\n      }, 0);\n    } else {\n      openChange();\n    }\n  };\n\n  this.isChildrenSelected = function () {\n    var ret = { find: false };\n    loopMenuItemRecursively(_this3.props.children, _this3.props.selectedKeys, ret);\n    return ret.find;\n  };\n\n  this.isOpen = function () {\n    return _this3.props.openKeys.indexOf(_this3.props.eventKey) !== -1;\n  };\n\n  this.adjustWidth = function () {\n    /* istanbul ignore if */\n    if (!_this3.subMenuTitle || !_this3.menuInstance) {\n      return;\n    }\n    var popupMenu = ReactDOM.findDOMNode(_this3.menuInstance);\n    if (popupMenu.offsetWidth >= _this3.subMenuTitle.offsetWidth) {\n      return;\n    }\n\n    /* istanbul ignore next */\n    popupMenu.style.minWidth = _this3.subMenuTitle.offsetWidth + 'px';\n  };\n\n  this.saveSubMenuTitle = function (subMenuTitle) {\n    _this3.subMenuTitle = subMenuTitle;\n  };\n};\n\nvar connected = connect(function (_ref, _ref2) {\n  var openKeys = _ref.openKeys,\n      activeKey = _ref.activeKey,\n      selectedKeys = _ref.selectedKeys;\n  var eventKey = _ref2.eventKey,\n      subMenuKey = _ref2.subMenuKey;\n  return {\n    isOpen: openKeys.indexOf(eventKey) > -1,\n    active: activeKey[subMenuKey] === eventKey,\n    selectedKeys: selectedKeys\n  };\n})(SubMenu);\n\nconnected.isSubMenu = true;\n\nexport default connected;"],"sourceRoot":""}